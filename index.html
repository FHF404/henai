<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://fhf404.github.io/henai.github.io/favicon.ico" type="image/x-icon">
  <title>å®å®å–å¥¶è®°å½•</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Helvetica Neue', Arial, sans-serif;
    }

    body {
      background-color: #fff6f6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: #5a3d5c;
    }

    .app-container {
      display: flex;
      flex-direction: column;
      max-width: 500px;
      margin: 0 auto;
      width: 100%;
      height: 100vh;
      background-color: #fff;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border-radius: 20px;
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #ffc0cb 0%, #ff9dbb 100%);
      color: white;
      padding: 20px;
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .app-title {
      font-size: 22px;
      font-weight: 600;
      letter-spacing: 0.5px;
      color: #5a3d5c;
      display: flex;
      align-items: center;
    }
    
    .app-title::before {
      content: "ğŸ¼";
      margin-right: 8px;
      font-size: 24px;
    }

    .clear-button {
      background-color: rgba(255, 255, 255, 0.7);
      color: #ff6b95;
      border: none;
      padding: 8px 16px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .clear-button:hover {
      background-color: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
    }

    .content {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 20px;
      overflow: hidden;
      background-color: #fff;
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657l1.415 1.414L13.857 0H11.03zm32.284 0l6.364 6.364-1.414 1.414L41.2 0h2.115zM17.657 0l-6.364 6.364 1.414 1.414L19.8 0h-2.143zM30 0l-9.9 9.9 1.415 1.415L30 2.828 38.485 11.3 39.9 9.9 30 0z' fill='%23ffd1dc' fill-opacity='0.3' fill-rule='evenodd'/%3E%3C/svg%3E");
    }

    .records-container {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 20px;
      padding: 10px;
      border-radius: 15px;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);
      background-color: rgba(255, 255, 255, 0.7);
      border: 2px dashed #ffd1dc;
    }

    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      color: #ff9dbb;
      text-align: center;
      padding: 20px;
    }

    .empty-state-icon {
      font-size: 40px;
      margin-bottom: 10px;
      opacity: 0.8;
    }

    .record-item {
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 15px;
      background-color: #fff;
      box-shadow: 0 2px 8px rgba(255, 182, 193, 0.2);
      display: flex;
      align-items: center;
      transition: transform 0.2s ease;
      animation: fadeIn 0.3s ease-out;
      border: 1px solid #ffd1dc;
    }

    .record-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 182, 193, 0.3);
    }

    .record-number {
      font-weight: bold;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ffc0cb 0%, #ff9dbb 100%);
      color: white;
      border-radius: 50%;
      margin-right: 15px;
      font-size: 14px;
      box-shadow: 0 2px 4px rgba(255, 155, 187, 0.3);
    }

    .record-time {
      font-size: 16px;
      font-weight: 500;
      letter-spacing: 0.5px;
      color: #5a3d5c;
    }

    .button-container {
      display: flex;
      justify-content: center;
      padding: 20px 0 40px;
    }

    .record-button-wrapper {
      width: 100px;
      height: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .record-button-wrapper:hover {
      transform: translateY(-3px) scale(1.05);
    }

    .record-button-wrapper:active {
      transform: translateY(0) scale(0.95);
    }

    .record-button-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
      transition: all 0.2s ease;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 100;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background-color: white;
      padding: 25px;
      border-radius: 20px;
      text-align: center;
      width: 90%;
      max-width: 350px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
      transform: translateY(20px);
      animation: slideUp 0.3s forwards;
      border: 2px solid #ffd1dc;
    }

    .modal-title {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #5a3d5c;
    }

    .modal-text {
      font-size: 16px;
      margin-bottom: 20px;
      color: #5a3d5c;
      line-height: 1.5;
    }

    .modal-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .modal-button {
      padding: 10px 25px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .confirm-button {
      background: linear-gradient(135deg, #ffc0cb 0%, #ff9dbb 100%);
      color: white;
    }

    .confirm-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(255, 155, 187, 0.3);
    }

    .cancel-button {
      background-color: #f9f9f9;
      color: #5a3d5c;
    }

    .cancel-button:hover {
      background-color: #f0f0f0;
      transform: translateY(-2px);
    }

    /* å¯çˆ±çš„è£…é¥°å…ƒç´  */
    .decoration {
      position: absolute;
      width: 30px;
      height: 30px;
      opacity: 0.6;
      z-index: 0;
    }

    .decoration:nth-child(1) {
      top: 20%;
      left: 10%;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23ffc0cb' d='M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z'/%3E%3C/svg%3E") no-repeat;
      animation: float 8s ease-in-out infinite;
    }

    .decoration:nth-child(2) {
      top: 70%;
      right: 15%;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23ffc0cb' d='M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z'/%3E%3C/svg%3E") no-repeat;
      animation: float 10s ease-in-out infinite reverse;
    }

    /* åŠ¨ç”»æ•ˆæœ */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes float {
      0% { transform: translateY(0) rotate(0); }
      50% { transform: translateY(-15px) rotate(10deg); }
      100% { transform: translateY(0) rotate(0); }
    }

    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 500px) {
      .app-container {
        height: 100vh;
        max-width: 100%;
        border-radius: 0;
      }
      
      .record-button-wrapper {
        width: 90px;
        height: 260px;
      }
    }

    /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
    .records-container::-webkit-scrollbar {
      width: 6px;
    }

    .records-container::-webkit-scrollbar-track {
      background: rgba(255, 209, 220, 0.2);
      border-radius: 10px;
    }

    .records-container::-webkit-scrollbar-thumb {
      background: rgba(255, 155, 187, 0.5);
      border-radius: 10px;
    }

    .records-container::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 155, 187, 0.8);
    }
  </style>
</head>
<body>
  <div class="app-container">
    <div class="decoration"></div>
    <div class="decoration"></div>
    
    <div class="header">
      <div class="app-title">å®å®å–å¥¶è®°å½•</div>
      <button class="clear-button" id="clearButton">
        <span>æ¸…é™¤</span>
      </button>
    </div>

    <div class="content">
      <div class="records-container" id="recordsContainer">
        <div id="recordsList"></div>
        <div id="emptyState" class="empty-state">
          <div class="empty-state-icon">ğŸ¼</div>
          <p>ç‚¹å‡»ä¸‹æ–¹å¥¶ç“¶æŒ‰é’®è®°å½•å®å®å–å¥¶æ—¶é—´~</p>
        </div>
      </div>

      <div class="button-container">
        <div class="record-button-wrapper" id="recordButton">
          <img src="https://fhf404.github.io/henai.github.io/henai.png" class="record-button-img" alt="è®°å½•æŒ‰é’®">
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="clearModal">
    <div class="modal-content">
      <div class="modal-title">ç¡®è®¤æ¸…é™¤</div>
      <p class="modal-text">ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰å–å¥¶è®°å½•å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€å“¦~</p>
      <div class="modal-buttons">
        <button class="modal-button confirm-button" id="confirmClear">ç¡®å®š</button>
        <button class="modal-button cancel-button" id="cancelClear">å–æ¶ˆ</button>
      </div>
    </div>
  </div>

  <script>
    let recordCount = 0;
    const recordsList = document.getElementById('recordsList');
    const recordsContainer = document.getElementById('recordsContainer');
    const emptyState = document.getElementById('emptyState');
    const recordButton = document.getElementById('recordButton');
    const clearButton = document.getElementById('clearButton');
    const clearModal = document.getElementById('clearModal');
    const confirmClear = document.getElementById('confirmClear');
    const cancelClear = document.getElementById('cancelClear');

    // æ£€æŸ¥æ˜¯å¦æœ‰è®°å½•å¹¶æ˜¾ç¤º/éšè—ç©ºçŠ¶æ€
    function checkEmptyState() {
      if (recordsList.children.length === 0) {
        emptyState.style.display = 'flex';
      } else {
        emptyState.style.display = 'none';
      }
    }

    // ä»æœ¬åœ°å­˜å‚¨åŠ è½½è®°å½•
    function loadRecords() {
      const savedRecords = localStorage.getItem('babyFeedingRecords');
      if (savedRecords) {
        recordsList.innerHTML = savedRecords;
        const items = recordsList.getElementsByClassName('record-item');
        recordCount = items.length;
      }
      checkEmptyState();
    }

    // ä¿å­˜è®°å½•åˆ°æœ¬åœ°å­˜å‚¨
    function saveRecords() {
      localStorage.setItem('babyFeedingRecords', recordsList.innerHTML);
      checkEmptyState();
    }

    // æ·»åŠ æ–°è®°å½•
    recordButton.addEventListener('click', function() {
      recordCount++;
      
      // è·å–å½“å‰æ—¶é—´
      const now = new Date();
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      const seconds = now.getSeconds().toString().padStart(2, '0');
      const timeString = `${hours}:${minutes}:${seconds}`;
      
      // åˆ›å»ºæ–°è®°å½•é¡¹
      const recordItem = document.createElement('div');
      recordItem.className = 'record-item';
      
      const recordNumber = document.createElement('div');
      recordNumber.className = 'record-number';
      recordNumber.textContent = recordCount;
      
      const recordTime = document.createElement('div');
      recordTime.className = 'record-time';
      recordTime.textContent = timeString;
      
      recordItem.appendChild(recordNumber);
      recordItem.appendChild(recordTime);
      
      // æ·»åŠ åˆ°åˆ—è¡¨é¡¶éƒ¨
      recordsList.insertBefore(recordItem, recordsList.firstChild);
      
      // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
      saveRecords();
      
      // æ·»åŠ ç‚¹å‡»æ•ˆæœ
      recordButton.classList.add('active');
      setTimeout(() => {
        recordButton.classList.remove('active');
      }, 200);
    });

    // æ˜¾ç¤ºæ¸…é™¤ç¡®è®¤å¯¹è¯æ¡†
    clearButton.addEventListener('click', function() {
      clearModal.style.display = 'flex';
    });

    // ç¡®è®¤æ¸…é™¤
    confirmClear.addEventListener('click', function() {
      recordsList.innerHTML = '';
      recordCount = 0;
      clearModal.style.display = 'none';
      
      // æ¸…é™¤æœ¬åœ°å­˜å‚¨
      localStorage.removeItem('babyFeedingRecords');
      checkEmptyState();
    });

    // å–æ¶ˆæ¸…é™¤
    cancelClear.addEventListener('click', function() {
      clearModal.style.display = 'none';
    });

    // ç‚¹å‡»å¯¹è¯æ¡†å¤–éƒ¨å…³é—­
    window.addEventListener('click', function(event) {
      if (event.target === clearModal) {
        clearModal.style.display = 'none';
      }
    });

    // é¡µé¢åŠ è½½æ—¶è¯»å–ä¿å­˜çš„è®°å½•
    window.addEventListener('load', loadRecords);
  </script>
</body>
</html>
